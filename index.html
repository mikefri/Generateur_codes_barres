<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GenCodeBarres v2.3</title>
  <meta name="theme-color" content="#0f172a">
  <meta name="theme-color" content="#0f172a">


<link rel="manifest" href="manifest.json">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- Polices Modernes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Librairies -->
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.1/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

   <link rel="stylesheet" href="style.css">
  
  <style id="print-style"></style>
  
</head>
<body>

  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="app-title">GenCodeBarre<span style="font-size: 0.7em; opacity: 0.6; font-weight: normal; margin-left: 5px;">v2.3</span></div>
    </div>
    
    <div class="sidebar-content">
      <div class="tabs-nav">
        <button class="tab-btn active" id="btn-tab-gen" data-target="tab-generator">Cr√©ation</button>
        <a href="https://mikefri.github.io/GenCodeBarre/plaquettes.html" class="tab-btn" id="btn-tab-tools">Planches</a>
      </div>

      <!-- --- ONGLET 1 : G√âN√âRATEUR --- -->
      <div id="tab-generator" class="tab-content active">
        
        <div class="control-group">
          <label>Titre de page</label>
          <input type="text" id="customTitle" placeholder="Ex: Inventaire 2025">
        </div>
        <div class="control-group">
          <div class="range-header">
            <label>Taille Titre</label>
            <span id="titleSizeVal" class="range-value">3</span>
          </div>
          <input type="range" id="titleSizeSlider" min="1" max="10" step="0.5" value="3">
        </div>
        
        <div class="divider"></div>

        <div class="control-group">
          <label>Donn√©es (Code)</label>
          <input type="text" id="texte" value="12345678" placeholder="Saisir le code...">
        </div>

        <div class="control-group">
          <label>Type de Code</label>
          <select id="type">
            <option value="CODE128" selected>Code 128 (Standard)</option>
            <option value="EAN13">EAN-13 (Produit)</option>
            <option value="QRCODE">QR Code (Lien)</option>
          </select>
        </div>

        <label class="checkbox-wrapper">
          <input type="checkbox" id="showText" checked>
          <span>Afficher le texte sous le code</span>
        </label>

        <div class="divider"></div>

        <div class="control-group">
          <div class="range-header">
            <label>Configuration Papier</label>
          </div>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="format" value="a4" checked>
              <span>A4</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="format" value="a3">
              <span>A3</span>
            </label>
            <label class="radio-option" style="border-left: 1px solid var(--border-subtle);">
              <input type="radio" name="orientation" value="portrait" checked>
              <span>Portrait</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="orientation" value="landscape">
              <span>Paysage</span>
            </label>
          </div>
        </div>

        <div class="control-group">
          <div class="range-header">
            <label>√âchelle du Code</label>
            <span id="codeSizeVal" class="range-value">1</span>
          </div>
          <!-- MODIFICATION ICI : Max pass√© de 5 √† 15 pour le format A3 -->
          <input type="range" id="sizeSlider" min="0.5" max="15" step="0.1" value="1">
        </div>

        <div class="actions">
          <button class="action-btn btn-print" id="printBtn">
            Imprimer la page
          </button>
          <button class="action-btn btn-download" id="downloadBtn">
            Telecharger le PDF
          </button>
        </div>
      </div>

      <!-- --- ONGLET 2 : OUTILS EXCEL --- -->
      <div id="tab-tools" class="tab-content">
        <div class="control-group">
          <label>Import Excel de masse</label>
          <label class="drop-zone" id="dropZone">
            <div style="font-size: 1.5rem; margin-bottom: 10px;">üìÇ</div>
            <div style="font-weight: 500;">S√©lectionner un fichier .xlsx</div>
            <div style="font-size: 0.8rem; opacity: 0.6; margin-top: 5px;">Colonne A uniquement</div>
            <input type="file" id="excelInput" class="hidden-input" accept=".xlsx, .xls" style="display:none">
          </label>
        </div>

        <!-- Zone de statut -->
        <div id="importStatus" class="status-card">
          <div style="color: #fff; font-weight: 600; margin-bottom: 5px; font-size: 0.9rem;">
              Import termin√©
          </div>
          <div id="importCount" style="color: #a7f3d0; font-size: 0.85rem;"></div>
        </div>

        <div class="actions" style="margin-top: auto;">
           <button class="action-btn" id="regenerateBatchBtn" style="display:none;">
             Voir la planche g√©n√©r√©e
           </button>
           <button class="action-btn" id="clearDataBtn" style="display:none;">
             Effacer les donn√©es
           </button>
        </div>
      </div>
    </div>
    
    <div class="sidebar-footer">
      <span>Cr√©√© par Micfri</span>
    </div>
  </aside>

  <main class="main-content">


    <button id="helpButton" class="action-btn help-btn" title="Aide et informations">
    <i class="fas fa-circle-info"></i> </button>
    
    <!-- Barre d'outils flottante pour le Zoom -->
    <div class="toolbar-preview">
      <span>Zoom Aper√ßu</span>
      <input type="range" id="previewZoomSlider" min="0.3" max="1.5" step="0.05" value="0.65" style="width: 100px;">
      <span id="previewZoomVal" style="width: 40px; text-align:right;">65%</span>
    </div>
    
    <div class="preview-scroll-wrapper">
      <div class="sheet-transform-layer" id="sheetLayer">
        <div id="pageSheet" class="sheet a4 portrait">
          <div id="title-display"></div>
          <div id="barcode-wrapper">
            <div id="canvas-target"></div>
          </div>
        </div>
      </div>
    </div>
  </main>

  
   <script src="script.js" defer></script> 


  <div id="helpModal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h3>‚ùì Guide d'utilisation GenCodeBarre v2.3</h3>
      <button class="close-btn" id="closeModalBtn">&times;</button>
    </div>
    <div class="modal-body">
      <h4>üõ†Ô∏è Onglet √âditeur (G√©n√©rateur)</h4>
      <ul>
        <li>Titre de page : Ajoute un titre qui ce positionnera en haut du code barre (ex: "Inventaire Magasin A").</li>
        <li>Donn√©es (Code) : C'est ici que vous saisissez le texte ou le num√©ro qui sera encod√© dans le code barre.</li>
        <li>Type de Code : Choisissez le type de code (Code 128 pour la plupart des usages, EAN-13 pour les produits, QR Code pour les liens/infos).</li>
        <li>√âchelle du Code : Ajustez la taille physique du code-barres sur la page imprim√©e.</li>
      </ul>
      

    </div>
  </div>
</div>
  
</body>
</html>
